<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lecture-05-integration – MSDA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-748b535e376f14d4692bf2b2e5fd6380.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-078f5be260b122ac6dcea7ea886f5ae9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-c339993edb64e1d3a2f6a10e47fa98b5.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-078f5be260b122ac6dcea7ea886f5ae9.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed fullcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MSDA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Course Overview</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-maths-content" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Maths Content</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-maths-content">    
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-01-functions.html">
 <span class="dropdown-text">Week 01 – Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-02-exp-n-log.html">
 <span class="dropdown-text">Week 02 – exp(x) and log(x)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-03-sequences.html">
 <span class="dropdown-text">Week 03 – Sequences</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-04-differentiation.html">
 <span class="dropdown-text">Week 04 – Differentiation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-05-integration.html">
 <span class="dropdown-text">Week 05 – Integration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-06-probability.html">
 <span class="dropdown-text">Week 06 – Probability</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-maths-tutorials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Maths Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-maths-tutorials">    
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-01-functions.html">
 <span class="dropdown-text">Week 01 – Tutorial: Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-02-exp-n-log.html">
 <span class="dropdown-text">Week 02 – Tutorial: exp(x) and log(x)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-03-sequences.html">
 <span class="dropdown-text">Week 03 – Tutorial: Sequences</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-04-differentiation.html">
 <span class="dropdown-text">Week 04 – Tutorial: Differentiation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-05-integration.html">
 <span class="dropdown-text">Week 05 – Tutorial: Integration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-06-probability.html">
 <span class="dropdown-text">Week 06 – Tutorial: Probability</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-stats-content" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Stats Content</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-stats-content">    
        <li>
    <a class="dropdown-item" href="../../Content/Stats/getting_ready_with_R_RStudio_IFP.html">
 <span class="dropdown-text">Week 07 – Getting Ready with R and RStudio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-08-content-stats.html">
 <span class="dropdown-text">Week 08 – Research Questions, Variables, and Study Design</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-09-content-stats.html">
 <span class="dropdown-text">Week 09 – Categorical variables</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/Plots_and_grammar.html">
 <span class="dropdown-text">Plots – Grammar of Graphics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-10-content-stats.html">
 <span class="dropdown-text">Week 10 – Continuous Varibales</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-11-content-stats.html">
 <span class="dropdown-text">Week 11 –</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-12-content-stats.html">
 <span class="dropdown-text">Week 12 –</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-13-content-stats.html">
 <span class="dropdown-text">Week 13 –</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-stats-tutorials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Stats Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-stats-tutorials">    
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-8/week-08-tutorial-stats.html">
 <span class="dropdown-text">Week 08 – Tutorial 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-9/week-09-tutorial-stats.html">
 <span class="dropdown-text">Week 09 – Tutorial 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-10/week-10-tutorial-stats.html">
 <span class="dropdown-text">Week 10 – Tutorial 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-11/week-11-tutorial-stats.html">
 <span class="dropdown-text">Week 11 – Tutorial 04</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-12/week-12-tutorial-stats.html">
 <span class="dropdown-text">Week 12 – Tutorial 05</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-13/week-13-tutorial-stats.html">
 <span class="dropdown-text">Week 13 – Tutorial 06</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-14/week-14-tutorial-stats.html">
 <span class="dropdown-text">Week 14 – Tutorial 07</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-15/week-15-tutorial-stats.html">
 <span class="dropdown-text">Week 15 – Tutorial 08</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-16/week-16-tutorial-stats.html">
 <span class="dropdown-text">Week 16 – Tutorial 09</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-r-support" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">R Support</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-r-support">    
        <li>
    <a class="dropdown-item" href="../../R Support/getting_ready_with_R_RStudio_IFP.html">
 <span class="dropdown-text">Getting Ready with R and RStudio – IFP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../R Support/R_Basics_Syntax-and-Variables.qmd">
 <span class="dropdown-text">R Basics: Syntax and Variables</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>





<section id="integration" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Integration</h1>
<p>The previous section discussed differentiation. This is just one aspect of calculus though, the other being integration.</p>
<section id="introduction" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">5.1</span> Introduction</h2>
<p>Many operations in mathematics have “inverse operations” (the mathematical version of CTRL+Z).</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Operation</th>
<th style="text-align: center;">Inverse Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\div\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\square^{2}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\sqrt{\square}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\square^{3}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\sqrt[3]{\square}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\sin(x)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\arcsin(x)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(e^x\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\ln(x)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(2^x\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\log_{2}x\)</span></td>
</tr>
</tbody>
</table>
<p>This means for instance that if you add 2 to a number, subtracting 2 from it will bring you back to the original number. If you square a number, for instance <span class="math inline">\(9^2\)</span>, you obtain <span class="math inline">\(81\)</span>. If you square root the <span class="math inline">\(81\)</span>, <span class="math inline">\((\sqrt{81})\)</span>, you return back to <span class="math inline">\(9\)</span>.</p>
<p>Differentiation also has it’s “undo” operation, called <strong>integration</strong>. Sometimes an integral is actually known as the “anti-derivative” because it is in a way the inverse operation to differentiation.</p>
<section id="anti-derivative" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="anti-derivative"><span class="header-section-number">5.1.1</span> Anti-derivative</h3>
<p>The integral of the function <span class="math inline">\(f(x)\)</span> is a function whose derivative is <span class="math inline">\(f(x)\)</span>. So if <span class="math inline">\(f'(x)\)</span> is the derivative of function <span class="math inline">\(f(x)\)</span>, then <span class="math inline">\(f(x)\)</span> is the integral of <span class="math inline">\(f'(x)\)</span>.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Notation">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Notation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Often the integral is denoted using a capital letter; <span class="math inline">\(F(x)\)</span> is the integral of <span class="math inline">\(f(x)\)</span>. This means that <span class="math inline">\(F'(x)=f(x)\)</span>.</p>
</div>
</div>
<p>This creates a relationship whereby each operation undoes the other.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/anti-derivative.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%" alt="Decorative: graphical depiction of differentiation and integration as a loop, with each reverting to the other."></p>
</figure>
</div>
</section>
<section id="constants-of-integration" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="constants-of-integration"><span class="header-section-number">5.1.2</span> Constants of integration</h3>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>Find an integral of <span class="math inline">\(f(x)\)</span> where <span class="math inline">\(f(x)=\cos(x)\)</span>.</p>
</blockquote>
<p>Since <span class="math inline">\((\sin(x))' = \cos(x)\)</span>, we have that <span class="math inline">\(\sin(x)\)</span> is an integral of <span class="math inline">\(\cos(x)\)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>However, it’s also true that <span class="math inline">\((\sin(x)+5)' = \cos(x)\)</span>. So it must be that <span class="math inline">\(\sin(x)+5\)</span> is <strong>also</strong> an integral of <span class="math inline">\(\cos(x)\)</span>. In fact, there are an infinite number of possible integrals!</p>
<p>To give us a unique answer, we need to write <span class="math inline">\(F(x) = \sin(x) + C\)</span> where <span class="math inline">\(C\in\mathbb{R}\)</span> is a constant. This “<span class="math inline">\(+C\)</span>” is called a <strong>constant of integration</strong> and is something we’ll add every time.</p>
</div>
</div>
</section>
<section id="notation" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="notation"><span class="header-section-number">5.1.3</span> Notation</h3>
<p>When differentiating we mentioned that there were a whole bunch of different notations people used. For integration, there’s pretty much just one: <span class="math inline">\(\int~\text{d}x\)</span>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The function that will be integrated, <span class="math inline">\(f(x)\)</span>, is called the <strong>integrand</strong>, and the variable <span class="math inline">\(x\)</span> in the <span class="math inline">\(\text{d}x\)</span> is the variable we are integrating with respect to.</p>
<p>This is put together with the <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(F(x)\)</span> from above to give <span class="math display">\[
  \int{f(x)}~\text{d}x = F(x) + C.
\]</span> In Wolfram Alpha the keyword <code class="sourceCode mathematica"><span class="fu">integrate</span></code> or <code class="sourceCode mathematica">int</code> is used.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>To use Wolfram Alpha to find that <span class="math display">\[\int{2^{3x}-4 \cos(6x)~dx} = \frac{8^x}{\ln(8)} - \frac{2}{3} \sin(6x) + C,\]</span> we write <code class="sourceCode mathematica"><span class="fu">integrate</span> <span class="dv">2</span><span class="sc">^</span>(<span class="dv">3</span>x)<span class="sc">-</span><span class="dv">4</span>cos(<span class="dv">6</span>x)</code> and get the following output.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/intro-wolfram.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Wolfram Alpha confirming the above result, only using '+ constant' rather than '+ C'." width="200"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember that Wolfram Alpha and some tools like it use ‘<span class="math inline">\(\log\)</span>’ to mean <span class="math inline">\(\ln\)</span>, rather than log base-10.</p>
</div>
</div>
</section>
</section>
<section id="definite-integrals" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="definite-integrals"><span class="header-section-number">5.2</span> Definite Integrals</h2>
<p>When we differentiated, there was always just one gradient for a given function. However we’ve seen that the same doesn’t hold for integration in general.</p>
<section id="indefinite" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="indefinite"><span class="header-section-number">5.2.1</span> Indefinite</h3>
<div class="callout callout-style-default callout-note callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>What we’ve seen so far is so-called <strong>indefinite integration</strong>, <span class="math inline">\(\displaystyle\int f(x)~\text{d}x = F(x) + C\)</span>.</p>
</div>
</div>
<p>Consider the interactive graph below. There are three parabolas. You can move the red one up and down by changing the value of <span class="math inline">\(c\)</span>. Move the blue point and see how the gradient changes.</p>
<div class="cell">
<iframe src="https://www.geogebra.org/material/iframe/id/t2bbvhfb/width/1400/height/567/border/888888/sri/true/sdz/true" width="672" height="400px" data-external="1">
</iframe>
</div>
<p>You can see that all three parabolas have the same gradient <span class="math inline">\(2x\)</span> where <span class="math inline">\(x\)</span> is the <span class="math inline">\(x-\)</span>coordinate of the point where the gradient is being measured. In other words, given <span class="math inline">\(f(x)\)</span>, there’s an infinite number of graphs/functions that have this particular gradient.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/indefinite-integral.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%" alt="Decorative: visual illustration of the previous three paragraphs as a flowchart."></p>
</figure>
</div>
<p>So without more information, we cannot know what constant disappeared when we differentiated and should reappear when we integrate. That is why we have to add “<span class="math inline">\(+C\)</span>” at the end of the integration.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example A">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example A
</div>
</div>
<div class="callout-body-container callout-body">
<p>Returning to the example above, we can write the indefinite integral <span class="math inline">\(\int 2x~\text{d}x = x^2 + C\)</span> where the “<span class="math inline">\(+C\)</span>” means that we not know which of the parabolas we need.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example B">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example B
</div>
</div>
<div class="callout-body-container callout-body">
<p>Generally, for <span class="math inline">\(f(x) = x^n\)</span> where <span class="math inline">\(n\in\mathbb{N}\)</span>, <span class="math inline">\(F(x) = \frac{x^{n+1}}{n+1} +C\)</span>.</p>
</div>
</div>
</section>
<section id="definite-integrals-1" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="definite-integrals-1"><span class="header-section-number">5.2.2</span> Definite Integrals</h3>
<p>Definite integration, or integration between two limits, returns a specific value rather than a function. Instead of the “<span class="math inline">\(+C\)</span>” we use square brackets and substitute limits into the integral: <span class="math display">\[
  \int_b^a f(x)~\text{d}x = {[F(x)]}^a_b = F(a) - F(b)
\]</span></p>
<p>You will not need to know how to write this, but you will need to interpret what the notation represents. The most direct reason that we use this technique is to calculate the area underneath a curve.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/4_3_1_property6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Showing the graph under a curve y = f(x) from x = a to x = b split about some intermediate point x = c."></p>
</figure>
</div>
<p>The light grey area from <span class="math inline">\(x = a\)</span> to <span class="math inline">\(x = c\)</span> can be represented by <span class="math display">\[\int_a^c f(x)~\text{d}x = [F(x)]^a_c = F(c)-F(a).\]</span> The blue area is represented by <span class="math display">\[\int_c^b f(x)~\text{d}x = [F(x)]_c^b = F(b)-F(c).\]</span> See how adding these together gives <span class="math inline">\(F(b) - F(a)\)</span>?</p>
<div class="callout callout-style-default callout-note callout-titled" title="Theorem">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Theorem
</div>
</div>
<div class="callout-body-container callout-body">
<p>Given three values <span class="math inline">\(a \leq c \leq b\)</span>, then the <span class="math display">\[
  \int_a^b f(x)~\text{d}x = \int_a^c f(x)~\text{d}x + \int_c^b f(x)~\text{d}x.
\]</span></p>
</div>
</div>
<p>It’s not something we’ll get into much in this course, but this ‘splitting’ can be very useful when the domain contains a point that might cause trouble (<em>e.g.</em> <span class="math inline">\(\frac{1}{x}\)</span> over <span class="math inline">\([-1,1]\)</span>, which includes <span class="math inline">\(x = 0\)</span>).</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example A">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example A
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>Find the area underneath the graph <span class="math inline">\(y=6x^2 -9x+7\)</span> for <span class="math inline">\(0 \leq x \leq 8\)</span>.</p>
</blockquote>
<p>There are a few different Wolfram Alpha commands that could get us what we want</p>
<ul>
<li><code class="mathemaica">area under y=6x^2 -9x+7, 0 &lt;= x &lt;= 8</code>,</li>
<li><code class="mathemaica">integrate 6x^2 -9x+7, 0 &lt;= x &lt;= 8</code>,</li>
<li><code class="mathemaica">integrate 6x^2 -9x+7, from 0 to 8</code>.</li>
</ul>
<p>It doesn’t matter which we choose, all will return equivalent outputs.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/09/definite-example1.png" class="img-fluid" alt="Wolfram alpha input interpretation and result for the above queries."></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/09/definite-example2.png" class="img-fluid" alt="Wolfram alpha's plot for the above queries."></p>
</div>
</div>
</div>
<p>The area underneath the graph is <span class="math inline">\(792~\text{unit}^2\)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example B">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example B
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>Find the area underneath the graph of <span class="math inline">\(y = 5 - x\)</span> between <span class="math inline">\(x = 0\)</span> and <span class="math inline">\(x = 5\)</span>.</p>
</blockquote>
<p>If we use <code class="sourceCode mathematica"><span class="fu">integrate</span> <span class="dv">5</span><span class="sc">-</span><span class="fu">x</span><span class="op">,</span> <span class="dv">0</span> &lt;<span class="ex">=</span> <span class="fu">x</span> &lt;<span class="ex">=</span> <span class="dv">5</span></code>, we get the following output.</p>
<p><img src="images/09/area-under-graph.png" class="img-fluid" alt="Wolfram Alpha output for the above command, which appears to be a right angled triangle underneath the x-axis."></p>
<p>With our understanding so far, this would mean the area underneath the graph is <span class="math inline">\(-12.5 \text{units}^2\)</span>: a negative area! This is because it is <strong>below</strong> the <span class="math inline">\(x\)</span>-axis. How this is interpreted will depend on the application of the problem.</p>
</div>
</div>
<p>In some applications, such as design or architecture, the area should never be negative. In others, where the area represents velocity or accumulated profit, then negative area has a legitimate interpretation as growing loss.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Applying integration to solve a problem like this is sometimes overkill! This area could have been calculated using the formula of area of a triangle <span class="math inline">\(A=\frac{1}{2}\text{base}\times\text{height}\)</span>. In this case it would have been <span class="math display">\[A = \frac{1}{2}\cdot{}5\cdot{}5 = 12.5~\text{units}^2.\]</span></p>
</div>
</div>
</section>
</section>
<section id="initial-value-problems" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="initial-value-problems"><span class="header-section-number">5.3</span> Initial value problems</h2>
<p>Especially when working with real world problems, we sometimes have additional information about <span class="math inline">\(f(x)\)</span>, <span class="math inline">\(f'(x)\)</span>, and/or <span class="math inline">\(F(x)\)</span>. This information can help find a specific function when integrating, rather than a family of functions connected by a <span class="math inline">\(+C\)</span>. This is called an <strong>initial value problem</strong>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example A">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example A
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>Let <span class="math inline">\(f'(x)=6x+1\)</span>. It is given that <span class="math inline">\(f(5)=14\)</span>. Find the expression for <span class="math inline">\(f(x)\)</span>.</p>
</blockquote>
<p>First, find the indefinite integral: <span class="math inline">\(f(x) = \int 6x+1~\text{d}x = 3x^2 + x + C\)</span>. Then substitute in the initial values to find the value of <span class="math inline">\(C\)</span>.</p>
<p>Since we are told that <span class="math inline">\(f(5)=14\)</span> we need to substitute <span class="math inline">\(x=5\)</span> into the expression and set it equal to <span class="math inline">\(14\)</span>. That is <span class="math inline">\(3(5)^2 + 5 + C = 14\)</span> which after simplifying and rearranging gives <span class="math inline">\(C = -66\)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example B">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example B
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>The acceleration of a particle is given by <span class="math inline">\(a(t)=8t^3 - 5t +9\)</span>. It is known that the velocity of the initial velocity of the particle is <span class="math inline">\(5\text{m/s}\)</span>. Find the function of the velocity.</p>
</blockquote>
<p>We find that the indefinite integral is <span class="math display">\[
  v(t) = \int a(t)~\text{d}t = \int 8t^3 - 5t + 9~\text{d}t = 2t^4 - \frac{5}{2}t^2 + 9t + C.
\]</span> The question tells us that the initial velocity is <span class="math inline">\(5\text{m/s}\)</span>; this means that <span class="math inline">\(v(0) = 5\)</span>. Substituting and solving as before, we find that <span class="math inline">\(C = 5\)</span>.</p>
<p>Therefore the function for the velocity is <span class="math inline">\(v(t)=2t^4 - \frac52 t^2 + 9t + 5\)</span>.</p>
<section id="applications" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="applications"><span class="header-section-number">5.4</span> Applications</h2>
<p>So far, we’ve only looked at how to integrate but not really considered <strong>why</strong> one would want to integrate. Integration is often associated with computing areas like we’ve talked about, but it can also find volumes and other physical quantities too.</p>
<p>Integration is also important when solving of differential equations - though that’s a topic beyond the scope of this course. These can be used to model all sorts of real-world phenomena, including population growth, weather, and the motion of planets, so finding solutions is of great practical significance.</p>
<section id="acceleration-velocity-displacement" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="acceleration-velocity-displacement"><span class="header-section-number">5.4.1</span> Acceleration, velocity, displacement</h3>
<p>Initially, we looked at the link between acceleration, velocity and displacement when it came to differentiation. Let’s look at this again using what we now know about integration.</p>
<p><img src="images/09/application1.png" class="img-fluid" style="width:80.0%" alt="Let us consider another characteristic of functions/graphs: the area underneath the curve."></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/application2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="The area uder the graph of acceleration is the velocity."></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/application3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="The area uder the graph of velocity is the distance."></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/application4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%" alt="Finding the area under the curve is done by integrating."></p>
</figure>
</div>
<p>This speaks to how integration can link these concepts together.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/09/summary.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%" alt="Decorative: summary of the relationships talked about above in a flowchart."></p>
</figure>
</div>


</section>
</section>
</div>
</div>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>We don’t get into this in MSDA, but the taaaaaall S can be thought of as an infinite sum and the <span class="math inline">\(\text{d}x\)</span> as the <strong>infinitesimal</strong>. This defines integration as the infinite sum of infinitely small things!<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>
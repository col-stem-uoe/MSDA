<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MSDA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MSDA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Course Overview</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-maths-content" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Maths Content</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-maths-content">    
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-01-functions.html">
 <span class="dropdown-text">Week 01 – Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-02-exp-n-log.html">
 <span class="dropdown-text">Week 02 – exp(x) and log(x)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-03-sequences.html">
 <span class="dropdown-text">Week 03 – Sequences</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-04-differentiation.html">
 <span class="dropdown-text">Week 04 – Differentiation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-05-integration.html">
 <span class="dropdown-text">Week 05 – Integration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Maths/lecture-06-probability.html">
 <span class="dropdown-text">Week 06 – Probability</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-maths-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Maths Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-maths-tutorials">    
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-01-functions.html">
 <span class="dropdown-text">Week 01 – Tutorial: Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-02-exp-n-log.html">
 <span class="dropdown-text">Week 02 – Tutorial: exp(x) and log(x)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-03-sequences.html">
 <span class="dropdown-text">Week 03 – Tutorial: Sequences</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-04-differentiation.html">
 <span class="dropdown-text">Week 04 – Tutorial: Differentiation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-05-integration.html">
 <span class="dropdown-text">Week 05 – Tutorial: Integration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Maths/workshop-06-probability.html">
 <span class="dropdown-text">Week 06 – Tutorial: Probability</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-stats-content" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Stats Content</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-stats-content">    
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-08-content-stats.html">
 <span class="dropdown-text">Week 08 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-9-content-stats.qmd">
 <span class="dropdown-text">Week 09 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-10-content-stats.html">
 <span class="dropdown-text">Week 10 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-11-content-stats.html">
 <span class="dropdown-text">Week 11 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-12-content-stats.html">
 <span class="dropdown-text">Week 12 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-13-content-stats.html">
 <span class="dropdown-text">Week 13 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-14-content-stats.html">
 <span class="dropdown-text">Week 14 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-15-content-stats.html">
 <span class="dropdown-text">Week 15 – Stats Content</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Content/Stats/week-16-content-stats.html">
 <span class="dropdown-text">Week 16 – Stats Content</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-stats-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Stats Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-stats-tutorials">    
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-08/week-08-tutorial-stats.qmd">
 <span class="dropdown-text">Week 08 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-09/week-09-tutorial-stats.qmd">
 <span class="dropdown-text">Week 09 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-10/week-10-tutorial-stats.html">
 <span class="dropdown-text">Week 10 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-11/week-11-tutorial-stats.html">
 <span class="dropdown-text">Week 11 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-12/week-12-tutorial-stats.html">
 <span class="dropdown-text">Week 12 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-13/week-13-tutorial-stats.html">
 <span class="dropdown-text">Week 13 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-14/week-14-tutorial-stats.html">
 <span class="dropdown-text">Week 14 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-15/week-15-tutorial-stats.html">
 <span class="dropdown-text">Week 15 – Tutorial (Stats)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Tutorials/Stats/week-16/week-16-tutorial-stats.html">
 <span class="dropdown-text">Week 16 – Tutorial (Stats)</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="probability" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Probability</h1>
<p>Probability is perhaps the area of maths closest to statistics, and looking at problems in one often motivates solutions in the other. That’s all a bit abstract though…</p>
<section id="what-is-probability" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="what-is-probability"><span class="header-section-number">6.1</span> What is probability?</h2>
<p>Probability is the study of chance. Given some event, its <strong>probability</strong> is a number between zero and one to how likely an event is to happen.</p>
<ul>
<li>If the probability is zero, the event is impossible;</li>
<li>If the probability is one, the event is certain to happen.</li>
</ul>
<p>The higher the probability, the more likely the event is to happen. If the probability is a half for example, the event is just as likely to happen as it is to not happen.</p>
<p><img src="images/10/probability.png" class="img-fluid" alt="Decorative: representation of the above on a numberline from 0 to 1."></p>
<section id="notation" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="notation"><span class="header-section-number">6.1.1</span> Notation</h3>
<p>The “probability of event <span class="math inline">\(A\)</span>” is usually expressed as <span class="math inline">\(\mathbb{P}(A)\)</span>. The probability of landing on heads if you toss a coin could therefore be expressed as <span class="math inline">\(\mathbb{P}(H)\)</span>, where <span class="math inline">\(H\)</span> stands for “the coin landed on heads”.</p>
<p>If the event could have multiple outcomes, say the roll of a dice, then the notation is slightly different. If <span class="math inline">\(D\)</span> rolling a six-sided dice, we say <span class="math inline">\(\mathbb{P}(D = 5)\)</span> for the probability that the dice lands on a five.</p>
</section>
<section id="numerical-representation" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="numerical-representation"><span class="header-section-number">6.1.2</span> Numerical representation</h3>
<p>Probabilities lie between zero and one, but they can be expressed as:</p>
<ul>
<li>fractions, for instance <span class="math inline">\(\frac{1}{2}\)</span>,</li>
<li>decimals, for instance <span class="math inline">\(0.5\)</span>,</li>
<li>percentages, for instance <span class="math inline">\(50\%\)</span>,</li>
<li>chances, for instance 1 in 2 chance,</li>
<li>ratios<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, for instance 1:1.</li>
</ul>
<p>These equivalent expressions are often used interchangeably and can be used for any probability we wish to represent.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>For example, there’s a one in six chance of rolling a five on a fair die. This is usually represented as <span class="math inline">\(\mathbb{P}(D = 5) = \frac{1}{6}\)</span>, but we could represent this as <span class="math inline">\(0.167\)</span>, <span class="math inline">\(16.7\%\)</span>, or <span class="math inline">\(1:5\)</span> odds.</p>
</div>
</div>
<p>In this course, we usually express probabilities either as an exact value, usually in fraction form, or as a decimal number, rounded either using significant figures or decimal places.</p>
</section>
</section>
<section id="theoretical-probability" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="theoretical-probability"><span class="header-section-number">6.2</span> Theoretical probability</h2>
<p>To calculate the theoretical probability of an event, we need to know the <strong>sample space</strong> <span class="math inline">\(\Omega\)</span> of an experiment.</p>
<p>The sample space is the set of all possible outcomes of an experiment. For example, the sample space for when we roll a die (the singular of dice) is the set of the six possible outcomes <span class="math inline">\(\lbrace 1,2,3,4,5,6 \rbrace\)</span>. In this case, all these outcomes are equally likely.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Dice_2005.jpg/594px-Dice_2005.jpg?20051223201523" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:20.0%" alt="Decoractive: example of a six-sided die."></p>
</figure>
</div>
<p>When each outcome of an experiment is equally likely, the probability of an event occurring can be calculated by dividing the number of favourable outcomes contained within the event by the total number of outcomes of the experiment.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example A">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example A
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>What’s the probablity of rolling a 4?</p>
</blockquote>
<p>There are 4 outcomes in the sample space <span class="math inline">\(\lbrace 1,2,3,4,5,6 \rbrace\)</span>. The event we wish to find is rolling a four, which is just one of six possible outcomes. So the probability of rolling a six is 1 divided by 6, or <span class="math inline">\(\frac{1}{6}\)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example B">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example B
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>What’s the probability of rolling a number larger than 3?</p>
</blockquote>
<p>To find the probability of rolling a number larger than 3 consider the number of outcomes that “satisfy” this requirement. The three outcomes are: rolling a <span class="math inline">\(4\)</span>, rolling a <span class="math inline">\(5\)</span> or rolling a <span class="math inline">\(6\)</span>. There are still <span class="math inline">\(6\)</span> possible outcomes in total and the probability of each is <span class="math inline">\(\frac16\)</span>, so the probability of rolling a number larger than <span class="math inline">\(3\)</span> is given by <span class="math inline">\(\frac36\)</span>, which equals $ $.</p>
</div>
</div>
<section id="why-is-this-theoretical" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="why-is-this-theoretical"><span class="header-section-number">6.2.1</span> Why is this theoretical?</h3>
<p>Some probabilities like the ones we just looked at can be understood logically, using theory. In other cases, we cannot figure out the probability of an event using logic alone.</p>
<p>For example, if we wanted to know the probability that a woman from a particular population will be between 1.65 and 1.66 metres tall, we need to collect data, <em>i.e.</em> measure the heights of a large number of women in that population to see how many are between 1.65 and 1.66 metres tall, and use this to estimate the probability for the whole population.</p>
<p>We call such a probability an <strong>experimental probability.</strong></p>
</section>
<section id="law-of-large-numbers" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="law-of-large-numbers"><span class="header-section-number">6.2.2</span> Law of large numbers</h3>
<p>Consider the graph below. On the horizontal axis, we have the number of times a fair six-sided dice was rolled. On the vertical axis we have value from 1 to 6. The graph represents the average of the results. As the number of times that you roll the die increases, the closer the average comes to the mean average between <span class="math inline">\(1\)</span> and <span class="math inline">\(6\)</span>: <span class="math inline">\(3.5\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/c/c9/Lawoflargenumbers.svg" class="img-fluid figure-img" style="width:80.0%" alt="Law of large numbers demonstrated by the roll of a six sided dice."></p>
<figcaption>{wallet}</figcaption>
</figure>
</div>
<p>This is called the <strong>Law of large numbers</strong>. In concrete terms, says that the proportion of the outcomes will approximate their theoretical probabilities as the number of trials increases.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>If we throw a dice ten times, it is unlikely<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> that all six possible outcomes will be equally represented in the outcome. But if you increase the number of times that you roll the dice, each outcome will be more and more equally represented. Set the number of dice to one and then use this Geogebra page to see how the outcomes even out as you throw the dice more often.</p>
<div class="cell">
<iframe src="https://www.geogebra.org/material/iframe/id/UsoH4eNl/width/1000/height/500/border/888888/sri/true/sdz/true" width="672" height="400px" data-external="1">
</iframe>
</div>
<p>We’ll return to this example in this weeks workshops, looking at how the number of dice impacts the outcomes.</p>
</div>
</div>
<!-- ### Sum of two dice -->
<!-- Content from this is now in a workshop. -->
<!-- <h3>Two dice sample space and theoretical vs simulated (experimental) probabilities</h3>The interactive graph below shows the outcome of a simulated experiment in which two dice are rolled a given number of times $n$, and on each dice roll, the two numbers are added together and recorded. The horizontal axis shows the possible sums of the two dice, the numbers 2 to 12, and the vertical axis shows the number of times each possible sum is obtained. The darker histogram shows the results of the simulated experiment. The paler histogram in the background shows the predicted number of times based on the theoretical probability.  -->
<!-- Moving the slider at the top of the graph allows you to change the number of times the two dice are rolled in the experiment. Pressing the 'Repeat' button repeats the experiment. Investigate how the outcome of the experiment varies as you vary the number of dice rolls and as you repeat the experiment.    -->
<!-- <center> <iframe width="464" height="437" src="https://www.geogebra.org/material/iframe/id/SsdvfSmC/width/464/height/437/border/888888" scrolling="no" style="border: 0px;" alt="Interactive histogram showing the number of times each number between 2 and 12 is obtained in an experiment in which two dice are rolled a number of times. Moving the slider allows the number of times the dice are rolled to be varied, and pressing the 'Repeat' button repeats the experiment. Generally, the larger the number of dice rolls, the more consistent the results are, and the more closely the frequencies match the expected frequency given by the probbility."> </iframe></center> -->
<!-- Since the outcome of each dice roll is random, the results of such an experiment will nearly always vary if the experiment is repeated. Therefore, the probabilities cannot tell us exactly what <em>will</em> happen, only what is <em>most likely</em> to happen. -->
<!-- Sometimes, instead of an actual experiment, we can use computer simulations. -->
<!-- Not to put you off but here is Sir David Spiegelhalter's take on the understanding of probability:<p style="text-align: center;"> <video controls="true" title="Sir David Spiegelhalter on Wired"><source src="https://www.youtube.com/watch?v=nuSqWRuz-mU">https://www.youtube.com/watch?v=nuSqWRuz-mU</video>    -->
</section>
</section>
<section id="sets-and-venn-diagrams" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="sets-and-venn-diagrams"><span class="header-section-number">6.3</span> Sets and Venn diagrams</h2>
<p>There are some more advanced concepts in probability that we need to cover, but before we can get to those we should probably take a quick detour to properly cover set notation. If this is a concept you’ve seen before, feel free to skip forwards!</p>
<section id="definition" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="definition"><span class="header-section-number">6.3.1</span> Definition</h3>
<p>Sets are mathematical objects that are, simply put, collections of elements. The are written with curly brackets. They are similar to lists, but lists are ordered and allow for repetition.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Examples">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Examples
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Set of objects on the table: {keys, coffee cup, pen, …}</li>
<li>Set of people in a room: {Joumana, Julie, Alistair, Yotam}</li>
<li>Set of numbers strictly between one and nine: {x | 1 &lt; x &lt; 9}</li>
</ul>
</div>
</div>
<p>The concept of a sample space in probability has an equivalent for sets more generally.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Definition">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <strong>universal set</strong> is the set of all objects and depends on the context. The universal set of all socks in the world, or the universal set of all students in the course.</p>
</div>
</div>
</section>
<section id="combining-sets" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="combining-sets"><span class="header-section-number">6.3.2</span> Combining Sets</h3>
<p>Sets on their own are mathematically interesting, and they can quite quickly lead to complicated ideas.[^You might have heard of <a href="https://en.wikipedia.org/wiki/Russell's_paradox">Russell’s paradox</a>, the set of sets that contain themselves. However of more interest is how they interact with each other.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Definiion">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definiion
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>The <strong>union</strong> (denoted <span class="math inline">\(\cup\)</span>) of two sets is the set of elements that are in <strong>either</strong> set.</li>
<li>The <strong>intersection</strong> (denoted <span class="math inline">\(\cap\)</span>) of two sets is the set of elements that are in <strong>both</strong> sets.</li>
<li>The <strong>difference</strong> (denoted <span class="math inline">\(\backslash\)</span>) of two sets is the set of elements that are in one set by <strong>not</strong> the other.</li>
</ol>
</div>
</div>
<p>This is a way of abstractly defining familiar ideas.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example A">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example A
</div>
</div>
<div class="callout-body-container callout-body">
<p>Say <span class="math inline">\(A\)</span> is the set of odd numbers between 10 and 20: {11,13,15,17,19}.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. Define <span class="math inline">\(B\)</span> as the prime numbers between 0 and 15: {2,3,5,7,11,13}. The union of these two sets is <span class="math inline">\(A\cup B\)</span> = {2,3,5,7,11,13,17,19}. The intersection of the two sets is: <span class="math inline">\(A\cap B\)</span> = {11,13}.</p>
</div>
</div>
<p>These ideas aren’t just limited to numbers thought!</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example B">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example B
</div>
</div>
<div class="callout-body-container callout-body">
<p>Consider the set of objects on the table, {keys, coffee cup, pen, calculator}, and the set of belongings I need to take with me: {keys, pen, wallet}.</p>
<p>The union of the two sets is {keys, coffee cup, pen, calculator, wallet}, while the intersection is {keys, pen}. The difference between the objects on the table and those I need to take with me is {wallet} - I wonder where I left it?</p>
</div>
</div>
</section>
<section id="venn-diagrams" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="venn-diagrams"><span class="header-section-number">6.3.3</span> Venn diagrams</h3>
<p>The place sets come up most frequently is in Venn diagrams.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://imgs.xkcd.com/comics/university_website.png" class="img-fluid figure-img" style="width:60.0%" alt="The intersection between the information on a university website and the things people go to the site looking for is exactly one item: the name of the university."></p>
<figcaption>xkcd.com/773/</figcaption>
</figure>
</div>
<p>A <strong>Venn diagram</strong> is a diagram style that shows the relation between sets, and was invented by English mathematician and logician John Venn in the 1880s. As the diagrams can be used to represent sets we can use them to represent probabilities for combinations of different events. The circles each represent one set. There can be any number of sets[^Though if we want circles, that limits us to three! Beyond that we have to introduce ellipses, sausages, and other squiggly constructs.]. The rectangle around them is the universal set, denoted <span class="math inline">\(\mathfrak{U}\)</span>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>A survey was done on first year students on what they felt made them like some animals more than others. <span class="math inline">\(42\)</span>% of students responded saying they favoured an animal that was fluffy, while <span class="math inline">\(28\)</span>% of students responded saying they favoured an animal that had big teeth. <span class="math inline">\(4\)</span>% of students responded saying they favoured an animal with both of these characteristics.</p>
<p>We can use these data to estimate the probability that a student will favour an animal that is fluffy OR has big teeth, or is fluffy AND has big teeth. Below we see a Venn diagram of the probabilities that a student’s favourite animal will be fluffy, have big teeth, or be fluffy and have big teeth.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/10/Venn diagram - example fluffy.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%" alt="Venn diagram of the results described above and below."></p>
</figure>
</div>
<p>From this diagram you can see for instance that although <span class="math inline">\(28\%\)</span> of students seem to prefer animals with big teeth, <span class="math inline">\(24\%\)</span> students preferred them to have big teeth but NOT be fluffy.</p>
</div>
</div>
<p>With this squared away, we can return to probability proper and better understand some of its more complicated concepts.</p>
</section>
</section>
<section id="laws-of-probability" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="laws-of-probability"><span class="header-section-number">6.4</span> Laws of probability</h2>
<p>Probability is governed by laws which allow us to understand more complicated questions of chance. If we have more than one event, we need to start thinking about how to combine the events and their probabilities.</p>
<section id="compliment" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="compliment"><span class="header-section-number">6.4.1</span> Compliment</h3>
<p>In most probability frameworks, whether an event happens is binary: it either happens or it doesn’t happen. From this, we get a probability relation.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Compliment Rule">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Compliment Rule
</div>
</div>
<div class="callout-body-container callout-body">
<p>For an event <span class="math inline">\(A\)</span>, since <span class="math inline">\(\mathbb{P}(A) + \mathbb{P}(\text{not}~A) = 1\)</span>, <span class="math display">\[
  \mathbb{P}(\text{not}~A) = 1 - \mathbb{P}(A),
\]</span> where <span class="math inline">\(\text{not}~A\)</span> is sometimes shortened to <span class="math inline">\(A'\)</span>, <span class="math inline">\(\overline{A}\)</span>, or <span class="math inline">\(A^{\text{c}}\)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose that we roll a six-sided die. The universal set is the set of all possible outcomes: $ ={1,2,3,4,5,6} $. Let <span class="math inline">\(A\)</span> be the event of rolling a number greater than <span class="math inline">\(2\)</span>.</p>
<p>The event <span class="math inline">\(A'\)</span> is the event that we roll a number that is not greater than <span class="math inline">\(2\)</span> (<em>i.e.</em> rolling a <span class="math inline">\(1\)</span> or a <span class="math inline">\(2\)</span>), so: <span class="math display">\[
  \mathbb{P}(A') = \mathbb{P}(\text{not greater than}~2) = \frac{2}{6}.
\]</span></p>
</div>
</div>
</section>
<section id="combinations" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="combinations"><span class="header-section-number">6.4.2</span> Combinations</h3>
<p>Suppose we have two events called <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>. The probabilities for “<span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>” happening and “either <span class="math inline">\(A\)</span> or <span class="math inline">\(B\)</span> happening are related.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Addition Law">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Addition Law
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
  \mathbb{P}(A\cup B) = \mathbb{P}(A) + \mathbb{P}(B) - \mathbb{P}(A \cap B).
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose that we roll a six-sided die. The universal set is the set of all possible outcomes: <span class="math inline">\(\mathfrak{U} = {1,2,3,4,5,6}\)</span>. Let <span class="math inline">\(A\)</span> be the event of rolling a number greater than <span class="math inline">\(2\)</span>, and <span class="math inline">\(B\)</span> rolling an even number.</p>
<p>The event <span class="math inline">\(A \cap B\)</span> is therefore the event that we roll a number that is <em>both</em> even <em>and</em> greater than <span class="math inline">\(2\)</span> (i.e.&nbsp;rolling a <span class="math inline">\(4\)</span> or a <span class="math inline">\(6\)</span>). The event <span class="math inline">\(A \cup B\)</span> is the event that we roll a number that is <em>either</em> greater than <span class="math inline">\(2\)</span>, even <em>or both</em> greater than <span class="math inline">\(2\)</span> <em>and</em> even (i.e.&nbsp;rolling a <span class="math inline">\(2, 3, 4, 5\)</span> or <span class="math inline">\(6\)</span>).</p>
<p>From this: - <span class="math inline">\(\mathbb{P}(A \cap B) = \mathbb{P}(\text{greater than}~2~\text{and even}) =\frac{2}{6}\)</span> - <span class="math inline">\(\mathbb{P}(A \cup B) = \mathbb{P}(\text{greater than}~2, \text{even, or both}) = \frac{5}{6}\)</span></p>
</div>
</div>
</section>
<section id="independence" class="level3" data-number="6.4.3">
<h3 data-number="6.4.3" class="anchored" data-anchor-id="independence"><span class="header-section-number">6.4.3</span> Independence</h3>
<p>Two events, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, are <strong>independent</strong> of one another if the probability that one of the events happens is unaffected by whether or not the other one happens. The events are <strong>dependent</strong> on one another if they are not independent of each other.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example A">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example A
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the experiment of rolling two dice, the outcome of each dice is not influenced by the outcome of the other dice. This means that each outcome is independent from each other.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example B">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example B
</div>
</div>
<div class="callout-body-container callout-body">
<p>The event of me taking my umbrella in the morning is influenced by whether or not it is raining. If it is not raining, the probability that I will take an umbrella is smaller than when it is raining. The two events are therefore not independent, <em>i.e.</em> dependent.</p>
</div>
</div>
<p>If two events are independent, then we have the following rule.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Multiplication Law">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Multiplication Law
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent events, <span class="math inline">\(\mathbb{P}(A\cap B) = \mathbb{P}(A)\mathbb{P}(B)\)</span>.</p>
</div>
</div>
</section>
<section id="mutually-exclusive" class="level3" data-number="6.4.4">
<h3 data-number="6.4.4" class="anchored" data-anchor-id="mutually-exclusive"><span class="header-section-number">6.4.4</span> Mutually exclusive</h3>
<p>We say that two events are <strong>mutually exclusive</strong> if they cannot both happen at the same time. For example, we cannot roll both an even and an odd number on a single die, and so the events ‘rolling an odd number’ and ‘rolling an even number’ are mutually exclusive.</p>
<p>We express the mutual exclusion of two events <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> mathematically as <span class="math inline">\(\mathbb{P}(A\cap B) = 0\)</span>.</p>
</section>
<section id="conditional-probability" class="level3" data-number="6.4.5">
<h3 data-number="6.4.5" class="anchored" data-anchor-id="conditional-probability"><span class="header-section-number">6.4.5</span> Conditional probability</h3>
<p>We are often interested in the probability that event <span class="math inline">\(A\)</span> happens given we know some event <span class="math inline">\(B\)</span> has happened, denoted <span class="math inline">\(\mathbb{P}(A|B)\)</span>.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Conditional Law">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Conditional Law
</div>
</div>
<div class="callout-body-container callout-body">
<p>The probability of <span class="math inline">\(A\)</span> happening given <span class="math inline">\(B\)</span> has happened is <span class="math display">\[
  \mathbb{P}(A|B) = \frac{\mathbb{P}(A\cap B)}{\mathbb{P}(B)}.
\]</span></p>
</div>
</div>
<p>Conditional probabilities themselves are related through Bayes’ Theorem:</p>
<div class="callout callout-style-default callout-note callout-titled" title="Bayes' Theorem">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bayes’ Theorem
</div>
</div>
<div class="callout-body-container callout-body">
<p>The probability of <span class="math inline">\(A\)</span> happening given <span class="math inline">\(B\)</span> has happened can be expressed as <span class="math display">\[
  \mathbb{P}(A|B) = \frac{\mathbb{P}(B|A)\mathbb{P}(A)}{\mathbb{P}(B)}.
\]</span></p>
</div>
</div>
<p>These are algebraic formulae for working with probabilities, though that’s not the only way to go about it.</p>
</section>
</section>
<section id="tree-diagrams" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="tree-diagrams"><span class="header-section-number">6.5</span> Tree diagrams</h2>
<p>Visualisation can be very helpful in understanding probability. We’ve already looked at Venn diagrams so now we’ll turn to trees.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Probability_tree_diagram.svg" class="img-fluid figure-img" style="width:40.0%" alt="treediagram example"></p>
<figcaption>Example of a tree diagram</figcaption>
</figure>
</div>
<p><strong>Tree diagrams</strong>, also known as <strong>probability trees</strong>, are particularly useful when there are several events (not necessarily sequential). They are very useful when investigating dependent probabilities.</p>
<p>Nodes (black circles above) represent outcomes or series of outcomes, while edges (the lines between them) represent steps that move from one outcome to another.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Example">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose we a bag containing five counters, of which two are blue and three are red. We randomly choose two counters from the bag, one after the other without replacing the first one in the bag. The possible outcomes are:</p>
<ul>
<li>choosing either two red counters,</li>
<li>two blue counters, or</li>
<li>one of each.</li>
</ul>
<p>In order to calculate these probabilities it is useful to draw a probability tree. In this, we should consider the possible outcomes of drawing the first counter; and then the outcomes of drawing the second counter (given the counter we picked in our first draw) and the associated probabilities of these different events. ‘Event one’ is drawing the first counter and ‘event two’ is drawing the second counter.</p>
<p>For this example we obtain the following probability tree, where the circle on the far left-hand side represents the initial state of the experiment; three red counters and two blue counters in the bag.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/10/prob-tree.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%" alt="Probability tree that is described in the paragraphs above and below."></p>
</figure>
</div>
<p>The two branches of the tree leaving the initial circle represent the two outcomes of the first part of our experiment, where we pick one counter out of the bag. The event ‘picking a blue counter’ is represented by the top branch, and the probability of this happening, <span class="math inline">\(\frac{2}{5}\)</span>, is shown next to the branch (there are two blue counters out of a total of five counters). The event ‘picking a red counter’ is represented by the lower branch, and the probability of this happening, <span class="math inline">\(\frac{3}{5}\)</span>, is shown next to this branch. Both branches lead to new circles, which represent the state of the experiment after one counter is drawn from the bag at random.</p>
<p>Each of the two new states have two branches emerging from them. Each branch represents the outcome of having picked either a blue or a red counter on the <strong>second</strong> turn, and the probability of each outcome is shown next to the branch. The four circles on the far right-hand side of the tree represent the final states of the experiment.</p>
<p>Usually a probability tree is simplified, without such explicit drawings of the practical situation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/10/prob-tree-simp.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%" alt="Same tree as before, but without the drawings of the counters in the bag."></p>
</figure>
</div>
<p>Each path through the tree represents a unique outcome of the experiment. Each path corresponds to independent events. Hence, the probability of each outcome along a given path is calculated by multiplying together the probabilities on each branch of the given path.</p>
<p>For instance, the probability of picking two blue counters is <span class="math display">\[
  \mathbb{P}(BB) = \frac{2}{5} \times \frac{1}{4} = \frac{1}{10}.
\]</span></p>
<p>These events (paths) are mutually exclusive, and so the probability of one or the other happening is found by adding the probabilities corresponding to the individual paths. For instance, the probability of picking a red counter on the second go is <span class="math display">\[
  \mathbb{P}(\text{red on 2nd go}) = \frac{2}{5} \times \frac{3}{4} + \frac{3}{5} \times \frac{1}{2} =\frac{3}{5}.
\]</span></p>
</div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Sometimes called ‘odds’.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>In fact it’s impossible! Can you say why?<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>This set is itself the intersection between the odd numbers {1, 3, 5, …} and the numbers {10, 11, …, 20}.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>